---
import { getCollection } from 'astro:content';
import Layout from '../../../layouts/Layout.astro';

export async function getStaticPaths() {
  const pregnancyEntries = await getCollection('pregnancy');
  return pregnancyEntries.map(entry => ({
    params: { week: entry.slug }, props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Layout title={`${entry.data.title} | The Baby Plan`}>
  <div class="max-w-4xl mx-auto px-4 py-16">
    <nav class="mb-8 text-sm font-bold text-slate-400 uppercase tracking-widest">
      <a href="/roadmap" class="hover:text-slate-900">Roadmap</a> / Pregnancy
    </nav>
    
    <h1 class="text-5xl font-bold text-slate-900 mb-6">{entry.data.title}</h1>
    
    <div class="prose prose-lg prose-slate max-w-none">
      <Content />
    </div>

    <div class="mt-12 p-8 bg-slate-900 rounded-[40px] text-white">
      <h3 class="font-bold text-xl mb-2">The 2026 Gear Audit</h3>
      <p class="text-slate-300 mb-6">Recommended for this stage: {entry.data.kit}</p>
      <a href={entry.data.kitLink} target="_blank" class="bg-white text-slate-900 px-8 py-3 rounded-full font-bold">Check on Retailer</a>
    </div>
  </div>
</Layout>